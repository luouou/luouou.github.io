<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Mist","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="nullptr">
<meta property="og:url" content="http://example.com/page/14/index.html">
<meta property="og:site_name" content="nullptr">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="ubun2">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/14/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false
  };
</script>

  <title>nullptr</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">nullptr</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">吾生也有涯 而知也无涯</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/07/hardware/diode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ubun2">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="nullptr">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/07/hardware/diode/" class="post-title-link" itemprop="url">二极管参数</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-07 16:05:44" itemprop="dateCreated datePublished" datetime="2022-06-07T16:05:44+08:00">2022-06-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-08 15:23:17" itemprop="dateModified" datetime="2022-06-08T15:23:17+08:00">2022-06-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hardware/" itemprop="url" rel="index"><span itemprop="name">hardware</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="常规参数"><a href="#常规参数" class="headerlink" title="常规参数"></a>常规参数</h3><ul>
<li><strong>正向导通压降</strong></li>
</ul>
<p>压降：二极管的电流流过负载以后相对于同一参考点的电势（电位）变化称为电压降，简称压降。</p>
<p>导通压降：二极管开始导通时对应的电压。</p>
<p>正向特性：在二极管外加正向电压时，在正向特性的起始部分，正向电压很小，不足以克服PN结内电场的阻挡作用，正向电流几乎为零。当正向电压大到足以克服PN结电场时，二极管正向导通，电流随电压增大而迅速上升。</p>
<p>反向特性：外加反向电压不超过一定范围时，通过二极管的电流是少数载流子漂移运动所形成反向电流。由于反向电流很小，二极管处于截止状态。反向电压增大到一定程度后，二极管反向击穿。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/ewiaKibzhXCHPUoeYgxyMhPTaIb3eDgrZk45v8aXXoyHQFJzOFxsD6dlX5tS0N9pnSKSvMUapO88vPM7AkAe5X7w/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p>
<ul>
<li><strong>正向导通压降与导通电流的关系</strong></li>
</ul>
<p>在二极管两端加正向偏置电压时，其内部电场区域变窄，可以有较大的正向扩散电流通过PN结。只有当正向电压达到某一数值(这一数值称为“门槛电压”，锗管约为0.2V，硅管约为0.6V)以后，二极管才能真正导通。但二极管的导通压降是恒定不变的吗?它与正向扩散电流又存在什么样的关系?通过下图1的测试电路在常温下对型号为SM360A的二极管进行导通电流与导通压降的关系测试，可得到如图2所示的曲线关系：正向导通压降与导通电流成正比，其浮动压差为0.2V。从轻载导通电流到额定导通电流的压差虽仅为0.2V，但对于功率二极管来说它不仅影响效率也影响二极管的温升，所以在价格条件允许下，尽量选择导通压降小、额定工作电流较实际电流高一倍的二极管。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ewiaKibzhXCHPUoeYgxyMhPTaIb3eDgrZkt1qDGpibE7o3uMEAmbxHjNEnSUJdfPtibiaorfW589WicrHqibV2K9wN97w/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="二极管导通压降测试电路"></p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/ewiaKibzhXCHPUoeYgxyMhPTaIb3eDgrZkV1ibwvm5JYmzWcFADEI1gW1VHwib0tYXwfGbDxPQUKn84hvsOFNAyp6A/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="导通压降与导通电流关系"></p>
<ul>
<li><strong>正向导通压降与环境的温度的关系</strong></li>
</ul>
<p>在我们开发产品的过程中，高低温环境对电子元器件的影响才是产品稳定工作的最大障碍。环境温度对绝大部分电子元器件的影响无疑是巨大的，二极管当然也不例外，在高低温环境下通过对SM360A的实测数据表1与图3的关系曲线可知道：二极管的导通压降与环境温度成反比。在环境温度为-45℃时虽导通压降最大，却不影响二极管的稳定性，但在环境温度为75℃时，外壳温度却已超过了数据手册给出的125℃，则该二极管在75℃时就必须降额使用。这也是为什么开关电源在某一个高温点需要降额使用的因素之一。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/ewiaKibzhXCHPUoeYgxyMhPTaIb3eDgrZkZ4lic7M3Y3AdqNV1icQQo0XshwZ0yKZ6CLTZttnadD6jRVsibp4EI2ImQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="导通压降与导通电流测试数据"></p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ewiaKibzhXCHPUoeYgxyMhPTaIb3eDgrZkibMhpkDI5dcqVGMviaOGgChmvSu9kXYd8PZqfpO8C5X1owAPTNZV3Oiaw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="导通压降与环境温度关系曲线"></p>
<ul>
<li><strong>最大整流电流IF</strong></li>
</ul>
<p>是指二极管长期连续工作时，允许通过的最大正向平均电流值，其值与PN结面积及外部散热条件等有关。因为电流通过管子时会使管芯发热，温度上升，温度超过容许限度（硅管为141左右，锗管为90左右）时，就会使管芯过热而损坏。所以在规定散热条件下，二极管使用中不要超过二极管最大整流电流值。例如，常用的IN4001－4007型锗二极管的额定正向工作电流为1A。</p>
<ul>
<li><strong>最高反向工作电压Udrm</strong></li>
</ul>
<p>加在二极管两端的反向电压高到一定值时，会将管子击穿，失去单向导电能力。为了保证使用安全，规定了最高反向工作电压值。例如，IN4001二极管反向耐压为50V，IN4007反向耐压为1000V。</p>
<ul>
<li><strong>反向电流Idrm</strong></li>
</ul>
<p>反向电流是指二极管在常温（25℃）和最高反向电压作用下，流过二极管的反向电流。反向电流越小，管子的单方向导电性能越好。值得注意的是反向电流与温度有着密切的关系，大约温度每升高10℃，反向电流增大一倍。例如2AP1型锗二极管，在25℃时反向电流若为250uA，温度升高到35℃，反向电流将上升到500uA，依此类推，在75℃时，它的反向电流已达8mA，不仅失去了单方向导电特性，还会使管子过热而损坏。又如，2CP10型硅二极管，25℃时反向电流仅为5uA，温度升高到75℃时，反向电流也不过160uA。故硅二极管比锗二极管在高温下具有较好的稳定性。</p>
<p>外加反向电压不超过一定范围时，通过二极管的电流是少数载流子漂移运动所形成反向电流。由于反向电流很小，二极管处于截止状态。这个反向电流又称为反向饱和电流或漏电流，二极管的反向饱和电流受温度影响很大。</p>
<p>一般硅管的反向电流比锗管小得多，小功率硅管的反向饱和电流在nA数量级，小功率锗管在μA数量级。温度升高时，半导体受热激发，少数载流子数目增加，反向饱和电流也随之增加。</p>
<p>二极管漏电流与反向电压的关系</p>
<p>在二极管两端加反向电压时，其内部电场区域变宽，有较少的漂移电流通过PN结，形成我们所说的漏电流。漏电流也是评估二极管性能的重要参数，二极管漏电流过大不仅使其自身温升高，对于功率电路来说也会影响其效率，不同反向电压下的漏电流是不同的，关系如图4所示：反向电压愈大，漏电流越大，在常温下肖特基管的漏电流可忽略。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ewiaKibzhXCHPUoeYgxyMhPTaIb3eDgrZkkIWySV60Xq8vNcObvDWy33UUKLxNiaLicrNOCmgibWhX2u1ZAjgpUsnpw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="反向电压与漏电流关系曲线"></p>
<p>二极管漏电流与环境温度的关系</p>
<p>其实对二极管漏电流影响最大的还是环境温度，下图5是在额定反压下测试的关系曲线，从中可以看出：温度越高，漏电流越大。在75℃后成直线上升，该点的漏电流是导致二极管外壳在额定电流下达到125℃的两大因素之一，只有通过降额反向电压和正向导通电流才能降低二极管的工作温度。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ewiaKibzhXCHPUoeYgxyMhPTaIb3eDgrZk2C3xjuEd0PKlI8KicqunibJgOVDyfqcFOAWrMjko8yfQbib7f8YcJ3FlA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="漏电流与环境温度关系曲线"></p>
<ul>
<li><strong>电压温度系数αuz</strong></li>
</ul>
<p>αuz指温度每升高一摄氏度时的稳定电压的相对变化量。uz为6v左右的稳压二极管的温度稳定性较好</p>
<h3 id="极限参数"><a href="#极限参数" class="headerlink" title="极限参数"></a>极限参数</h3><ul>
<li><strong>最大反向峰值电压VRM</strong></li>
</ul>
<p>即使没有反向电流,只要不断地提高反向电压,迟早会使二极管损坏。这种能加上的反向电压,不是瞬时电压,而是反复加上的正反向电压。因给整流器加的是交流电压,它的最大值是规定的重要因子。</p>
<ul>
<li><strong>最大直流反向电压VR</strong></li>
</ul>
<p>上述最大反向峰值电压是反复加上的峰值电压,VR是连续加直流电压时的值。用于直流电路,最大直流反向电压对于确定允许值和上限值是很重要的。</p>
<ul>
<li><strong>最大浪涌电流Isurge</strong></li>
</ul>
<p>允许流过的过量的正向电流。它不是正常电流,而是瞬间电流,这个值相当大。</p>
<ul>
<li><strong>最大平均整流电流IO</strong></li>
</ul>
<p>在半波整流电路中,流过负载电阻的平均整流电流的最大值。这是设计时非常重要的值。</p>
<ul>
<li><strong>最大交流输入电压VI</strong></li>
</ul>
<p>在半波整流电路(电阻负荷)上加的正弦交流电压的有效值。这也是选择整流器时非常重要的参数。最大峰值正向电流IFM 正向流过的最大电流值,这也是设计整流电路时的重要参数。</p>
<ul>
<li><strong>最大功率P</strong></li>
</ul>
<p>二极管中有电流流过,就会吸热,而使自身温度升高。最大功率P为功率的最大值。具体讲就是加在二极管两端的电压乘以流过的电流。这个极限参数对稳压二极管,可变电阻二极管显得特别重要。</p>
<ul>
<li><strong>反向电流IR</strong></li>
</ul>
<p>一般说来,二极管中没有反向电流流过,实际上,加一定的反向电压,总会有电流流过,这就是反向电流。不用说,好的二极管,反向电流较小。</p>
<ul>
<li><strong>反向恢复时间tre</strong></li>
</ul>
<p>指在规定的负载、正向电流及最大反向瞬态电压下的反向恢复时间。从正向电压变成反向电压时,理想情况是电流能瞬时截止,实际上,一般要延迟一点点时间。决定电流截止延时的量,就是反向恢复时间。虽然它直接影响二极管的开关速度,但不一定说这个值小就好。</p>
<ul>
<li><strong>IF— 最大平均整流电流</strong></li>
</ul>
<p>指二极管工作时允许通过的最大正向平均电流。该电流由PN结的结面积和散热条件决定。使用时应注意通过二极管的平均电流不能大于此值，并要满足散热条件。例如1N4000系列二极管的IF为1A。</p>
<ul>
<li><strong>VR— 最大反向工作电压</strong></li>
</ul>
<p>指二极管两端允许施加的最大反向电压。若大于此值，则反向电流(IR)剧增，二极管的单向导电性被破坏，从而引起反向击穿。通常取反向击穿电压(VB)的一半作为(VR)。例如1N4001的VR为50V，1N4007的VR为1OOOV.</p>
<ul>
<li><p><strong>IR— 反向电流。</strong><br>指二极管未击穿时反向电流值。温度对IR的影响很大。例如1N4000系列二极管在100°C条件IR应小于500uA;在25°C时IR应小于5uA。</p>
</li>
<li><p><strong>VR— 击穿电压。</strong></p>
</li>
</ul>
<p>指二极管反向伏安特性曲线急剧弯曲点的电压值。反向为软特性时，则指给定反向漏电流条件下的电压值。</p>
<h3 id="交流参数"><a href="#交流参数" class="headerlink" title="交流参数"></a>交流参数</h3><ul>
<li><strong>CO— 零偏压电容。</strong></li>
</ul>
<p>指二极管两端电压为零时，扩散电容及结电容的容量之和。值得注意的，由于制造工艺的限制，即使同一型号的二极管其参数的离散性也很大。手册中给出的参数往往是一个范围，若测试条件改变，则相应的参数也会发生变化，例如在25°C时测得1N5200系列硅塑封整流二极管的IR小于1OuA，而在 100°C时IR则变为小于500uA。</p>
<p>我们知道二极管具有容易从P型向N型半导体通过电流,而在相反方向不易通过的的特性。这两种特性合起来就产生了电容器的作用,即蓄积电荷的作用。蓄积有电荷,当然要放电。放电可以在任何方向进行。而二极管只在一个方向有电流流过这种说法,严格来说是不成立的。这种情况在高频时就明显表现出来。因此,二极管的极电容以小为好。</p>
<ul>
<li><strong>动态电阻Rd</strong></li>
</ul>
<p>二极管特性曲线静态工作点Q附近电压的变化与相应电流的变化量之比。</p>
<ul>
<li><strong>最高工作频率Fm</strong></li>
</ul>
<p>Fm是二极管工作的上限频率。因二极管与PN结一样，其结电容由势垒电容组成。所以Fm的值主要取决于PN结结电容的大小。若是超过此值。则单向导电性将受影响。</p>
<ul>
<li><strong>二极管反向恢复时间</strong></li>
</ul>
<p>如图6所示，二极管的反向恢复时间为电流通过零点由正向转换成反向，再由反向转换到规定低值的时间间隔，实际上是释放二极管在正向导通期间向PN结的扩散电容中储存的电荷。反向恢复时间决定了二极管能在多高频率的连续脉冲下做开关使用，如果反向脉冲的持续时间比反向恢复时间短，则二极管在正向、反向均可导通就起不到开关的作用。PN结中储存的电荷量与反向电压共同决定了反向恢复时间，而在高频脉冲下不但会使其损耗加重，也会引起较大的电磁干扰。所以知道二极管的反向恢复时间正确选择二极管和合理设计电路是必要的，选择二极管时应尽量选择PN结电容小、反向恢复时间短的，但大多数厂家都不提供该参数数据。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/ewiaKibzhXCHPUoeYgxyMhPTaIb3eDgrZkxqBM8wAn7vicNLsDcantI8m8Via5cQicpLkX8PHibWQMDt8XRf9n0M15bA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="二极管恢复时间示意图"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/07/hardware/speaker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ubun2">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="nullptr">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/07/hardware/speaker/" class="post-title-link" itemprop="url">speaker</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-07 16:05:44" itemprop="dateCreated datePublished" datetime="2022-06-07T16:05:44+08:00">2022-06-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-08 15:23:17" itemprop="dateModified" datetime="2022-06-08T15:23:17+08:00">2022-06-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hardware/" itemprop="url" rel="index"><span itemprop="name">hardware</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li><strong>额定阻抗</strong></li>
</ul>
<p>额定阻抗是指音频为400Hz时，从扬声器输入端测得的阻抗。它一般是音圈直流电阻的1.2~1.5倍。一般动圈式扬声器常见的阻抗有4Ω、8Ω、16Ω、32Ω等。</p>
<ul>
<li><strong>功率</strong></li>
</ul>
<p>扬声器的功率分为额定功率、最小功率、最大功率和瞬间功率，单位均为W。</p>
<p>额定功率也称标称功率，是指扬声器长时间正常连续工作而无明显失真的输入平均电功率。</p>
<p>最小功率也称起步功率，是指扬声器能被推动工作的基准电功率值。</p>
<p>最大功率也称最大承载功率，是指扬声器长时间连续工作时所能承受的最大输入功率。</p>
<p>瞬间功率也称瞬时承受功率，是指扬声器在短时间内（10ms）所能承受的最大功率，一般为额定功率的8~30倍。</p>
<ul>
<li><strong>频率特性</strong></li>
</ul>
<p>扬声器的频率特性是指当输入扬声器的信号电压恒定不变时，扬声器有参考轴上的输出声压随输入信号的频率变化而变化的规律。它是一条随频率变化的频率响应（简称频响）曲线，反映了扬声器对不同频率声波的辐射能力。</p>
<p>扬声器的频响曲线是具有许多峰谷点的不规则连续曲线，将扬声器的谐振频率作为低频不限频率，而将频响曲线高频端的交点作为高频上限频率。低频下限与高频上限之间的频率范围。称为扬声器的有效频率范围。</p>
<p>扬声器的频响曲线越平坦，说明频率失真越小，有效频率范围越宽。</p>
<p>一般低音扬声器的频率范围在20 ~ 3kHZ之间，中音扬声器的频率范围在500 ~ 5kHZ之间，高音扬声器的频率范围在2 ~ 20kHZ之间。</p>
<ul>
<li><strong>谐振频率</strong></li>
</ul>
<p>谐振频率是扬声器频率范围的下限，谐振频率低，扬声器的低音重放的质感和力度也越好。</p>
<p>低音扬声器的谐振频率值一般是随其口径的增大而降低，6in（in=0.0254m）低音扬声器的谐振频率为50HZ左右，8in（in=0.0254m）低音扬声器的谐振频率为40HZ左右，10in低音扬声器的谐振频率为30HZ左右，12in低音扬声器的谐振频率为20HZ左右。</p>
<ul>
<li><strong>灵敏度（dB/W）</strong></li>
</ul>
<p>灵敏度也称输出声压级，主要用来反映扬声器的电-声转换效率。高灵敏度扬声器，用较小的电功率即可推动它。</p>
<p>扬声器的灵敏度有特性灵敏度级和平均特性灵敏度两种表示方法，前者最常用且误差较小。</p>
<p>扬声器的灵敏度是指输入功率为1W的噪声电压时，在扬声器轴向正面1m处所测得的声压大小。灵敏度是衡量扬声器对音频信号中的细节能否巨细无遗地重放的指标。灵敏度越高，则扬声器对音频信号中细节均能作出的响应。作为Hi-Fi扬声器的灵敏度应大于86dB/W。</p>
<ul>
<li><strong>失真度</strong></li>
</ul>
<p>扬声器的失真主要表现为重放声音与原始声音有差异。它又分为谐波失真、瞬态失真、互调失真和相位失真。</p>
<ul>
<li><strong>等效质量</strong></li>
</ul>
<p>扬声器的等效质量也称振动质量，是扬声器振动系统的静态质量（指振膜和音圈本身的质量）与同振质量（指振膜两边随之一起振动的部分空气层的质量）之和。</p>
<p>等效质量与扬声器的口径成正比，与扬声器的谐振频率成反比。</p>
<ul>
<li><strong>等效顺性</strong></li>
</ul>
<p>等效顺性也称力顺或声顺，表示扬声器悬置系统的松紧度（指折环和定位支片的柔软程度）或称为受力后位移的顺从性。</p>
<ul>
<li><strong>弹性系数</strong></li>
</ul>
<p>扬声器的弹性系数也称振动系统的等效力劲度，是表示锥盆折环和定位支片刚性的参数，它与扬声器的谐振频率成正比，与振动系统的等效质量成反比。</p>
<ul>
<li><strong>总品质因数</strong></li>
</ul>
<p>扬声器的总品质因数也称Qts值，用来反映其振动系统消耗能量的较慢，即表示振动系统损耗的大小。</p>
<ul>
<li><strong>等效容积</strong></li>
</ul>
<p>扬声器等效容积是指扬声器振动系统顺性的等效空气容积。扬声器的口径越大，其等效容积也越大。</p>
<ul>
<li><strong>等效振动半径</strong></li>
</ul>
<p>扬声器的等效振动半径也称振膜有效面积，它表示有助于声音辐射的面积，一般指从振膜中心到折环中间处的长度。</p>
<ul>
<li><strong>磁感应强度与磁通量</strong></li>
</ul>
<p>磁感应强度也称磁隙强度，用来表示扬声器空气隙中磁场强度的品质标记。</p>
<p>磁通量等于磁感应强度与空气隙面积平均值的乘积。</p>
<ul>
<li><strong>线性范围</strong></li>
</ul>
<p>扬声器的线性范围是指振膜的最大线性位移。扬声器工作时，若振膜的位移超过线性范围值，放音失真就会增大。</p>
<ul>
<li><strong>指向性</strong></li>
</ul>
<p>指向性是指扬声器在不同方向的声压辐射能力随频率而变化的特性，或指扬声器声波辐射到空间各个方向的能力。输入扬声器的信号频率越高，指向性越强。指向性与扬声器的口径有关，口径大时指向性尖，口径小时指向性宽。指向性还与频率有关，一般而言，对250Hz以下的低频信号，没有明显的指向性。对1.5kHz以下的高频信号则有明显的指向性。</p>
<ul>
<li><strong>谐波失真（TMD%）</strong></li>
</ul>
<p>扬声器的失真有很多种，常见的有谐波失真（多由扬声器磁场不均匀以及振动系统的畸变而引起，常在低频时产生）、互调失真（因两种不同频率的信号同时加入扬声器，互相调制引起的音质劣化）和瞬态失真（因振动系统的惯性不能紧跟信号的变化而变化，从而引起信号失真）等。谐波失真是指重放时，增加了原信号中没有的谐波成份。扬声器的谐波失真来源于磁体磁场不均匀、振动膜的特性、音圈位移等非线性失真。目前，较好的扬声器的谐波失真指标不大于5%。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/07/hardware/RF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ubun2">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="nullptr">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/07/hardware/RF/" class="post-title-link" itemprop="url">Radio Frequency</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-07 16:05:44" itemprop="dateCreated datePublished" datetime="2022-06-07T16:05:44+08:00">2022-06-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-08 15:23:17" itemprop="dateModified" datetime="2022-06-08T15:23:17+08:00">2022-06-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hardware/" itemprop="url" rel="index"><span itemprop="name">hardware</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="电磁波"><a href="#电磁波" class="headerlink" title="电磁波"></a>电磁波</h2><p>电磁波的波长和频率成正比（光速=波长×频率）。</p>
<p><strong>频率越高，波长越短，越趋近于直线传播（绕射能力越差）。频率越高，在传播介质中的衰减也越大。</strong></p>
<h2 id="天线"><a href="#天线" class="headerlink" title="天线"></a>天线</h2><p><strong>天线长度应与波长成正比，大约在1/10~1/4之间</strong>，当天线的长度是无线电信号波长的1/4时，天线的发射和接收转换效率最高。</p>
<h2 id="射频"><a href="#射频" class="headerlink" title="射频"></a>射频</h2><p>射频（Radio Frequency）是指频率范围在300KHz~300GHz的高频电磁波。频率低于100kHz的电磁波会被地表吸收，不能形成有效的传输。频率高于100kHz的电磁波可以在空气中传播，并经大气层外缘的电离层反射，形成远距离传输能力。</p>
<p>900MHz的GSM频段，1.9GHz的4G LTE频段，3.5GHz的5G频段。</p>
<p>基本频带(Baseband)是指一段特殊的频率带宽，也就是频率范围在零频附近（从直流到几百KHz）的这段带宽的信号。</p>
<p><img src="/images/RF/sem_module.webp" alt="img"></p>
<p>射频芯片指的就是将无线电信号转换成一定的无线电信号波形， 并通过天线谐振发送出去的一个电子元器件，它包括功率放大器、低噪声放大器和天线开关。射频芯片架构包括接收通道和发射通道两大部分。</p>
<h2 id="检波"><a href="#检波" class="headerlink" title="检波"></a>检波</h2><p>检波又称振幅解调，它的作用是从已调制的高频振荡中恢复出原来的调制信号。从频谱上看，检波就是将幅度调制波中的边带信号不失真地从载波频率附近搬移到零频率附近。</p>
<p>在测试和测量应用中，射频功率检波器用于精密测量射频功率，以及用作频谱和网络分析仪中输入保护电路的一部分。在通信和医疗应用中，射频检波器用于监测和控制发射功率和天线回波损耗。</p>
<h2 id="基带"><a href="#基带" class="headerlink" title="基带"></a>基带</h2><p>基带（Base Band）是频谱中心点在0Hz的信号，有人也把基带叫做“未调制信号”。</p>
<p>基带芯片可以认为是包括调制解调器，但不止于调制解调器，还包括信道编解码、信源编解码，以及一些信令处理。</p>
<h2 id="LPWAN"><a href="#LPWAN" class="headerlink" title="LPWAN"></a>LPWAN</h2><p><img src="/images/RF/v2-da2f5994249683a8d1f301d9c84e95fe_720w.jpg" alt="img"></p>
<p><strong>LPWAN</strong> (Low Power Wide Area Network，低功耗广域网)，特点是低功耗和广覆盖。也叫做蜂窝物联网。目前市场上主要的LPWAN技术包括NB-IoT、eMTC、LORA。</p>
<p><img src="/images/RF/b622410ef1194adb8b52409d4ec0df39.png" alt="img"></p>
<p><img src="/images/RF/8b307fed446e4b9899ce10a248141c9e.png" alt="img"></p>
<p><strong>IMSI</strong> 国际移动用户识别码，是区别移动用户的标识，储存在SIM卡中，可用于区别移动用户的有效信息，通过IMSI可反查运营商、归属地、手机号码等信息，在接入网络时会到运营商服务器中进行验证。格式：15位0-9的数字。</p>
<p><strong>ICCID</strong> SIM卡卡号，是卡的标识，不作接入网络的鉴权认证，可在SIM卡卡后查询到。格式：大多为19或20位0-9的数字，亦存在6位/12位的情况。</p>
<h2 id="NB-IoT"><a href="#NB-IoT" class="headerlink" title="NB-IoT"></a>NB-IoT</h2><p>NB-IoT（窄带物联网），Narrow Band Internet of Things。</p>
<h2 id="ZigBee"><a href="#ZigBee" class="headerlink" title="ZigBee"></a>ZigBee</h2><p>ZigBee是基于IEEE802.15.4标准的低功耗局域网协议，可工作在2.4GHz(全球流行)、868MHz(欧洲流行)和915 MHz(美国流行)3个频段上,分别具有最高250kbit/s、20kbit/s和40kbit/s的传输速率，它的传输距离在10-75m的范围内。</p>
<ul>
<li><p>低功耗：在低耗电待机模式下，2节5号干电池可支持1个节点工作6-24个月，甚至更长。这是ZigBee的突出优势。相比之下蓝牙可以工作数周、WiFi可以工作数小时;</p>
</li>
<li><p>低成本：通过大幅简化协议是成本很低（不足蓝牙的1/10），降低了对通信控制器的要求，按预测分析，以8051的8位微控制器测算，全功能的主节点需要32KB代码，子功能节点少至4KB代码，而且ZigBee的协议专利免费;</p>
</li>
<li><p>低速率：ZigBee工作在250kbps的通讯速率，满足低速率传输数据的应用需求;</p>
</li>
<li><p>近距离：传输范围一般介于10～100m之间，在增加RF发射功率后，亦可增加到1-3km。这指的是相邻节点间的距离。如果通过路由和节点间通信的接力，传输距离将可以更远;</p>
</li>
<li><p>短时延：ZigBee的响应速度较快，一般从睡眠转入工作状态只需15ms，节点连接进入网络只需30ms，进一步节省了电能。相比较，蓝牙需要3-10s、WiFi需要3s;</p>
</li>
<li><p>高容量：ZigBee可采用星状、片状和网状网络结构，由一个主节点管理若干子节点，最多一个主节点可管理254个子节点;同时主节点还可由上一层网络节点管理，最多可组成65000个节点的大网;</p>
</li>
<li><p>高安全：ZigBee提供了三级安全模式，包括无安全设定、使用接入控制清单（ACL）防止非法获取数据以及采用高级加密标准（AES128）的对称密码，以灵活确定其安全属性;</p>
</li>
<li><p>免执照频段：采用直接序列扩频在工业科学医疗2.4GHz（全球）频段。</p>
</li>
</ul>
<h2 id="Z-Wave"><a href="#Z-Wave" class="headerlink" title="Z-Wave"></a>Z-Wave</h2><p>Z-Wave是一种基于射频的、低成本、低功耗、高可靠、适于网络的短距离无线通信技术。工作频带为908.42MHz(美国)~868.42MHz(欧洲)，采用FSK(BFSK/GFSK)调制方式，数据传输速率可达40 kbps，信号的有效覆盖范围在室内是30m，室外可超过100m，适合于窄带宽应用场合。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/07/hardware/triode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ubun2">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="nullptr">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/07/hardware/triode/" class="post-title-link" itemprop="url">常用贴片三极管丝印与型号对照表</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-07 16:05:44" itemprop="dateCreated datePublished" datetime="2022-06-07T16:05:44+08:00">2022-06-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-08 15:23:17" itemprop="dateModified" datetime="2022-06-08T15:23:17+08:00">2022-06-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hardware/" itemprop="url" rel="index"><span itemprop="name">hardware</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <table>
<thead>
<tr>
<th>丝印</th>
<th>三极管型号</th>
</tr>
</thead>
<tbody><tr>
<td>1A</td>
<td>BC846A</td>
</tr>
<tr>
<td>1AM</td>
<td>MMBT3904</td>
</tr>
<tr>
<td>1AMZ</td>
<td>MMBT3904LT1</td>
</tr>
<tr>
<td>1B</td>
<td>BC846B</td>
</tr>
<tr>
<td>1D</td>
<td>MMBTA42</td>
</tr>
<tr>
<td>1E</td>
<td>BC847A</td>
</tr>
<tr>
<td>1F</td>
<td>BC847B</td>
</tr>
<tr>
<td>1G</td>
<td>BC847C</td>
</tr>
<tr>
<td>1J</td>
<td>BC848A</td>
</tr>
<tr>
<td>1K</td>
<td>BC848B</td>
</tr>
<tr>
<td>1L</td>
<td>BC848C</td>
</tr>
<tr>
<td>1T</td>
<td>S9011</td>
</tr>
<tr>
<td>1P</td>
<td>MMBT2222</td>
</tr>
<tr>
<td>2T</td>
<td>S9012</td>
</tr>
<tr>
<td>2A</td>
<td>MMBT3906</td>
</tr>
<tr>
<td>2AM</td>
<td>S8550</td>
</tr>
<tr>
<td>2D</td>
<td>MMBTA92</td>
</tr>
<tr>
<td>2F</td>
<td>MMBT2907</td>
</tr>
<tr>
<td>2L</td>
<td>MMBT5401</td>
</tr>
<tr>
<td>2T1</td>
<td>S9012</td>
</tr>
<tr>
<td>2TY</td>
<td>S8550</td>
</tr>
<tr>
<td>2X</td>
<td>2N4401</td>
</tr>
<tr>
<td>3A</td>
<td>BC856A</td>
</tr>
<tr>
<td>3B</td>
<td>BC856B</td>
</tr>
<tr>
<td>3E</td>
<td>BC857A</td>
</tr>
<tr>
<td>3F</td>
<td>BC857B</td>
</tr>
<tr>
<td>3J</td>
<td>BC858A</td>
</tr>
<tr>
<td>3K</td>
<td>BC858B</td>
</tr>
<tr>
<td>3L</td>
<td>BC858C</td>
</tr>
<tr>
<td>5A</td>
<td>BC807-16</td>
</tr>
<tr>
<td>5B</td>
<td>BC807-25</td>
</tr>
<tr>
<td>5C</td>
<td>BC807-40</td>
</tr>
<tr>
<td>6A</td>
<td>BC817-16</td>
</tr>
<tr>
<td>6B</td>
<td>BC817-25</td>
</tr>
<tr>
<td>6C</td>
<td>BC817-40</td>
</tr>
<tr>
<td>702</td>
<td>2N7002</td>
</tr>
<tr>
<td>AD</td>
<td>2SC3838</td>
</tr>
<tr>
<td>BA</td>
<td>2SA1015</td>
</tr>
<tr>
<td>CR</td>
<td>2SC945</td>
</tr>
<tr>
<td>CS</td>
<td>2SA733</td>
</tr>
<tr>
<td>G1</td>
<td>MMBT5551</td>
</tr>
<tr>
<td>HF</td>
<td>2SC1815</td>
</tr>
<tr>
<td>J3</td>
<td>S9013</td>
</tr>
<tr>
<td>J3Y</td>
<td>S8050</td>
</tr>
<tr>
<td>J6</td>
<td>S9014</td>
</tr>
<tr>
<td>J8</td>
<td>S9018</td>
</tr>
<tr>
<td>KL4</td>
<td>BAT54S</td>
</tr>
<tr>
<td>L6</td>
<td>2SC1623</td>
</tr>
<tr>
<td>M5C</td>
<td>MMBD7000</td>
</tr>
<tr>
<td>M6</td>
<td>S9015</td>
</tr>
<tr>
<td>R23</td>
<td>2SC3356</td>
</tr>
<tr>
<td>V1</td>
<td>UN2111</td>
</tr>
<tr>
<td>V2</td>
<td>UN2112</td>
</tr>
<tr>
<td>V3</td>
<td>UN2113</td>
</tr>
<tr>
<td>V4</td>
<td>UN2211</td>
</tr>
<tr>
<td>V5</td>
<td>UN2212</td>
</tr>
<tr>
<td>V6</td>
<td>UN2213</td>
</tr>
<tr>
<td>W2A</td>
<td>PMBT3906</td>
</tr>
<tr>
<td>Y1</td>
<td>S8050</td>
</tr>
<tr>
<td>Y2</td>
<td>S8550</td>
</tr>
<tr>
<td>Y6</td>
<td>S9016</td>
</tr>
<tr>
<td>Z14</td>
<td>BZX84-C3V3</td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/07/hardware/motor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ubun2">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="nullptr">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/07/hardware/motor/" class="post-title-link" itemprop="url">motor</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-07 16:05:44" itemprop="dateCreated datePublished" datetime="2022-06-07T16:05:44+08:00">2022-06-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-08 15:23:17" itemprop="dateModified" datetime="2022-06-08T15:23:17+08:00">2022-06-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hardware/" itemprop="url" rel="index"><span itemprop="name">hardware</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="步进电机"><a href="#步进电机" class="headerlink" title="步进电机"></a>步进电机</h2><h3 id="24BYJ48"><a href="#24BYJ48" class="headerlink" title="24BYJ48"></a>24BYJ48</h3><p>24BYJ48-5V型号的具体含义：</p>
<pre><code>24——表示此步进电机的有效最大外径是24mm。

B——表示是步进电机，“步”字的汉语拼音（Bu）开头字母。

Y——表示该步进电机是永磁式，“永”汉语拼音（Yong）开头字母。

J——表示该步进减速电机的减速型式，“减”汉语拼音（Jian）开头字母。

那么“BYJ”合起来就表示——永磁式减速步进电机。

48——表示四相八拍。

5V——表示这个步进电机的额定电压为5V。
</code></pre>
<ul>
<li><p><strong>参数</strong></p>
<p>  减速比:1/64<br>  步距角:5.625°/64<br>  驱动方式:4相8拍<br>  直流电阻:50Ω±7%(25℃)<br>  起动转矩100PPS g.cm ≥300<br>  起动频率PPS ≥500<br>  起位转矩g.cm ≥300<br>  空载牵入频率:≥500Hz<br>  空载牵出频率:≥900Hz<br>  牵入转矩:29.4mN.m(120Hz)<br>  自定位转矩:34.3mN.m<br>  绝缘电阻:＞50MΩ(500V)<br>  绝缘介电强度:600VAC/1mA/1S<br>  绝缘等级:A<br>  温升:＜40K(120Hz)<br>  噪音:＜40dB(120Hz)<br>  重量:大约40g<br>  转向：CCW</p>
</li>
<li><p><strong>内部结构</strong></p>
</li>
</ul>
<p>内圈上面有6个齿，分别标注为0～5，这个叫做转子，转子的每个齿上都带有永久的磁性，是一块永磁体，这就是“永磁式”的概念。外圈就是定子，它是跟电机的外壳固定在一起的，上面有8个齿，而每个齿上都缠上了一个线圈绕组，正对着的2个齿上的绕组又是串联在一起的，也就是说正对着的2个绕组总是会同时导通或关断的，如此就形成了4相，在图中分别标注为 A-B-C-D，这就是“4相”的概念。</p>
<p><img src="/images/motor/24BYJ48.png" alt="步进电机内部结构示意图"></p>
<ul>
<li><strong>工作原理</strong></li>
</ul>
<p>假定电机的起始状态就如图所示，B相绕组的开关闭合，B相绕组导通，那么导通电流就会在正上和正下两个定子齿上产生磁性，这两个定子齿上的磁性就会对转子上的0和3号齿产生最强的吸引力，转子的0号齿在正上、3号齿在正下而处于平衡状态。转子的1号齿与右上的定子齿也就是C相的一个绕组呈现一个很小的夹角。</p>
<p>接下来，我们把B相绕组断开，而使C相绕组导通，右上的定子齿将对转子1号齿产生最大的吸引力，转子就转过了起始状态时1号齿和C相绕组那个夹角的角度。再接下来，断开C相绕组，导通D相绕组，过程与上述的情况完全相同，最终将使转子2、5号齿与定子D相绕组对齐，转子又转过了上述同样的角度。</p>
<p>当A相绕组再次导通，完成一个 B-C-D-A 的四节拍操作后，转子的0、3号齿将由原来对齐到B相绕组上变为了对齐到A相绕组上，即转子转过了一个定子齿的角度。依此类推，再来一个四节拍，转子就将再转过一个齿的角度，8个四节拍后转子将转过完整的一圈，那么单个节拍使转子转过的角度为360度/(8*4)=11.25度，这个值就叫做步进角度。</p>
<p>在单四拍的两个节拍之间再插入一个双绕组导通的中间节拍，组成八拍模式。新插入的节拍使转子转了单四拍模式中步进角度的一半，即5.625度，转动精度增加了一倍，而转子转动一圈则需要8*8=64拍。另外还会在原来单四拍的两个节拍引力之间又加了一把引力，从而大大增加电机的扭力。</p>
<p><img src="/images/motor/24BYJ48_p.png" alt="线序"></p>
<p><img src="/images/motor/24BYJ48_2.png" alt="励磁方式"></p>
<p>对力矩要求高使用2相励磁，对精度要求高使用1-2相励磁。</p>
<h3 id="2相4线"><a href="#2相4线" class="headerlink" title="2相4线"></a>2相4线</h3><p><img src="/images/motor/2p4l.jpeg" alt="内部结构图"></p>
<p><img src="/images/motor/2p4l.jpg" alt="规格"></p>
<h2 id="舵机"><a href="#舵机" class="headerlink" title="舵机"></a>舵机</h2><p>舵机（Servo）由直流电机、减速齿轮组、传感器和控制电路组成的一套自动控制系统。通过发送信号，指定输出轴旋转角度。最大旋转180度。与普通直流电机的区别主要在，直流电机是一圈圈转动的，舵机只能在一定角度内转动，不能一圈圈转。</p>
<p>舵机内部有一个基准电路，产生周期为20ms、宽度为1.5ms的基准信号，将获得的直流偏置电压与电位器的电压比较，获得电压差输出。经过电路板IC方向判断，再驱动无核心马达开始转动，透过减速齿轮将动力传至摆臂，同时由位置检测器送回信号，判断是否已经到位。</p>
<p>舵机转动的角度是通过调节PWM的占空比来实现的。标准的PWM信号的<strong>周期固定为20ms，高电平脉宽应该在0.5~2.5ms范围之间</strong>，脉宽与转角0°—180°相对应。</p>
<p>0.5ms————-0度</p>
<p>1.0ms————45度</p>
<p>1.5ms————90度</p>
<p>2.0ms———–135度</p>
<p>2.5ms———–180度</p>
<p>![舵机]](/images/motor/servo.gif)</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/07/hardware/gpio/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ubun2">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="nullptr">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/07/hardware/gpio/" class="post-title-link" itemprop="url">gpio structure</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-07 16:05:44" itemprop="dateCreated datePublished" datetime="2022-06-07T16:05:44+08:00">2022-06-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-08 15:23:17" itemprop="dateModified" datetime="2022-06-08T15:23:17+08:00">2022-06-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hardware/" itemprop="url" rel="index"><span itemprop="name">hardware</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>开漏输出要输出高电平需要接一个上拉电阻，I2C支持多个主设备与多个从设备在一条总线上，用推挽输出，会造成主从设备之间短路，故要用开漏输出。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/07/hardware/elecpen/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ubun2">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="nullptr">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/07/hardware/elecpen/" class="post-title-link" itemprop="url">电笔的原理</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-07 16:05:44" itemprop="dateCreated datePublished" datetime="2022-06-07T16:05:44+08:00">2022-06-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-08 15:23:17" itemprop="dateModified" datetime="2022-06-08T15:23:17+08:00">2022-06-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hardware/" itemprop="url" rel="index"><span itemprop="name">hardware</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>试电笔由笔尖金属探头、电阻、氖管、笔身、观察孔、弹簧和笔尾的金属体组成。当试电笔测试带电体时，只要带电体、电笔、人体、大地构成通路，并且带电体与大地之间的电位差超过一定数值(例如60伏)，试电笔之中的氖管就会发光，这就告诉人们，被测物体带电，并且超过了一定的电压强度。</p>
<p><img src="/images/equipment/pen.webp" alt="img"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/07/net/wifi_tool/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ubun2">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="nullptr">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/07/net/wifi_tool/" class="post-title-link" itemprop="url">debug tools for wifi</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-07 16:05:44" itemprop="dateCreated datePublished" datetime="2022-06-07T16:05:44+08:00">2022-06-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-08 15:23:17" itemprop="dateModified" datetime="2022-06-08T15:23:17+08:00">2022-06-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/wifi/" itemprop="url" rel="index"><span itemprop="name">wifi</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>wext为linux-2.6.18版本之前实现方式；用户空间使用ioctl方式访问驱动，设置无线参数或者获取无线参数，配置无线驱动进行联网操作；无线驱动事件到应用层的传递采用的netlink socket技术。</p>
<p>linux-2.6.18以后wifi驱动实现方式增加了nl80211，无论是用户层访问驱动还是驱动事件通知应用层、都采用的netlink技术。</p>
<p>用<code>lsusb</code>命令查看USB ID号，无线网上的硬件id为：0bda:xxxx。</p>
<h2 id="wpa-supplicant"><a href="#wpa-supplicant" class="headerlink" title="wpa_supplicant"></a>wpa_supplicant</h2><p>支持OPEN、WEP、WPA(TKIP)、WPA2(AES)无线加密方式。下载地址：<a target="_blank" rel="noopener" href="https://w1.fi/releases/">https://w1.fi/releases/</a><br>wpa_supplicant-0.8以前的版本，编译前对.config文件进行裁剪，去掉一些功能。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#CONFIG_DRIVER_HOSTAP=y</span><br><span class="line">#CONFIG_DRIVER_ATMEL=y</span><br><span class="line">#CONFIG_DRIVER_NL80211=y</span><br><span class="line">#CONFIG_DRIVER_WIRED=y</span><br><span class="line">CONFIG_WPS=y</span><br><span class="line">CONFIG_TLS=internal</span><br><span class="line">CONFIG_INTERNAL_LIBTOMMATH=y</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cp defconfig .config</span><br><span class="line">make CC=arm-himix100-linux-gcc clean</span><br><span class="line">make CC=arm-himix100-linux-gcc -j4</span><br><span class="line">arm-himix100-linux-strip wpa_supplicant</span><br></pre></td></tr></table></figure>

<p>依赖libnl，openssl，dbus库，Makefie修改：</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CFLAGS += -I/home/luo_u/usr/hisi/dbus-1.12.10/<span class="keyword">include</span>/dbus-1.0</span><br><span class="line">LIBS += -L/home/luo_u/usr/hisi/dbus-1.12.10/lib -ldbus-1</span><br><span class="line">CFLAGS += -I/home/luo_u/usr/hisi/expat-2.2.9/<span class="keyword">include</span>/</span><br><span class="line">LIBS += -L/home/luo_u/usr/hisi/expat-2.2.9/lib </span><br><span class="line">CFLAGS += -I/home/luo_u/usr/hisi/openssl-1.1.1/<span class="keyword">include</span></span><br><span class="line">LIBS += -L/home/luo_u/usr/hisi/openssl-1.1.1/lib </span><br><span class="line">CFLAGS += -I/home/luo_u/usr/hisi/libnl-3.4.0/<span class="keyword">include</span>/libnl3</span><br><span class="line">LIBS += -L/home/luo_u/usr/hisi/libnl-3.4.0/lib </span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="http://www.linuxfromscratch.org/blfs/view/svn/basicnet/wpa_supplicant.html">http://www.linuxfromscratch.org/blfs/view/svn/basicnet/wpa_supplicant.html</a></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ctrl_interface=/var/run/wpa_supplicant/</span><br><span class="line">update_config=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">network=<span class="punctuation">&#123;</span></span><br><span class="line">    ssid=<span class="string">&quot;SECULINK  R&amp;D&quot;</span></span><br><span class="line">    scan_ssid=<span class="number">1</span></span><br><span class="line">    psk=<span class="string">&quot;secueye1&quot;</span></span><br><span class="line">    key_mgmt=WPA-PSK WPA-EAP IEEE8021X NONE</span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">#连接无密码的ssid字段，需要添加key_mgmt=NONE去连接这个网络</span><br><span class="line">network=<span class="punctuation">&#123;</span></span><br><span class="line">        key_mgmt=NONE</span><br><span class="line">        ssid=<span class="string">&quot;wifi-name&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./wpa_supplicant -i wlan0 -D wext -c wpa_supplicant.conf -B -dd</span><br></pre></td></tr></table></figure>

<p>加<code>-dd</code>选项，显示调试打印。</p>
<ul>
<li><strong>错误</strong></li>
</ul>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">rfkill: <span class="title">Cannot</span> <span class="title">open</span> <span class="title">RFKILL</span> <span class="title">control</span> <span class="title">device</span></span></span><br></pre></td></tr></table></figure>

<p>打开rfkill失败，这是一个控制接口应该在/dev/rfkill，看了下板子上，确实没有这个设备接口。打开内核配置<code>CONFIG_RFKILL</code></p>
<h2 id="wpa-cli"><a href="#wpa-cli" class="headerlink" title="wpa_cli"></a>wpa_cli</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">wpa_cli -i wlan0 scan 　       #搜索wifi热点</span><br><span class="line">wpa_cli -i wlan0 scan_result 　#显示搜索wifi热点</span><br><span class="line">wpa_cli -i wlan0 status      　#当前WPA/EAPOL/EAP通讯状态</span><br><span class="line">wpa_cli -i wlan0 ping        　#ping wpa_supplicant</span><br><span class="line"></span><br><span class="line">wpa_cli -i wlan0 add_network   #添加一个网络连接,会返回&lt;network id&gt;</span><br><span class="line">wpa_cli set_network &lt;network id&gt; ssid &#x27;&quot;name&quot;&#x27;  #ssid名称</span><br><span class="line">wpa_cli set_network &lt;network id&gt; psk &#x27;“psk”&#x27;    #密码</span><br><span class="line">wpa_cli set_network &lt;network id&gt; scan_ssid 1</span><br><span class="line">wpa_cli set_network &lt;network id&gt; priority 1     #优先级</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">连接指定的ssid</span></span><br><span class="line">wpa_cli -i wlan0 select_network &lt;network id&gt;   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">连接无密码热点</span></span><br><span class="line">wpa_cli set_network &lt;network id&gt; ssid &quot;wifi-name&quot;</span><br><span class="line">wpa_cli set_network &lt;network id&gt; key_mgmt NONE</span><br><span class="line">       </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">断开连接</span></span><br><span class="line">wpa_cli -i wlan0 disable_network &lt;network id&gt;   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">信息保存到默认的配置文件中</span></span><br><span class="line">wpa_cli -i wlan0 save_config </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">列举保存过得连接</span></span><br><span class="line">wpa_cli -i wlan0 list_network     </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">使能制定的ssid</span></span><br><span class="line">wpa_cli -i wlan0 enable_network &lt;network id&gt;   </span><br></pre></td></tr></table></figure>

<h2 id="iwconfig"><a href="#iwconfig" class="headerlink" title="iwconfig"></a>iwconfig</h2><p>Wireles stools用来设置支持LinuxWireless Extension的无线设备。Wireles stools for Linux 和Linux Wireless Extension 由 Jean Tourrilhes在维护，由HP惠普赞助。</p>
<p>WirelessExtension (WE)是一组通用的API，能在用户空间对通用Wireless LANs进行配置和统计。它的好处在于仅通过一组单一的工具就能对各种各样的WirelessLANs进行管理，不管它们是什么类型，只要其驱动支持WirelessExtension就行；另一个好处就是不用重启驱动或Linux就能改变这些参数。</p>
<p>WirelessTools (WT)就是用来操作Wireless Extensions的工具集，它们使用字符界面，支持所有WirelessExtension。WirelessTools包括以下工具：</p>
<p>-　iwconfig：设置基本无线参数<br>-　iwlist：扫描、列出频率，比特率，密钥等<br>-　iwspy：获取每个节点链接的质量<br>-　iwpriv：操作WirelessExtensions 特定驱动<br>-　ifrename： 基于各种静态标准命名接口</p>
<p>下载地址：<a target="_blank" rel="noopener" href="https://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Tools.html">https://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Tools.html</a><br>修改Makefile，编译。</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CC = arm-himix100-linux-gcc</span><br><span class="line">AR = arm-himix100-linux-ar</span><br><span class="line">RANLIB = arm-himix100-linux-anlib</span><br><span class="line">BUILD_STATIC = y</span><br></pre></td></tr></table></figure>

<p>只适用于OPEN和WEP加密方式。建议用iw工具替代。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">iwlist wlan0 scan   #搜索ap</span><br><span class="line">iwconfig wlan0 key &lt;psk&gt;  #验证密码</span><br><span class="line">iwconfig wlan0 key open   #密码验证功能打开</span><br><span class="line">iwconfig wlan0 essid &lt;ssid&gt;  #连接ap</span><br></pre></td></tr></table></figure>

<p>在设置监听模式之前需要将无线网卡down掉，开启监听模式再up，然后在锁定信道.。</p>
<h2 id="iw"><a href="#iw" class="headerlink" title="iw"></a>iw</h2><p>iw 是一种新的基于 nl80211 的用于无线设备的CLI配置实用程序。只能连接 OPEN和WEP 加密方式的热点。下载地址：<a target="_blank" rel="noopener" href="https://mirrors.edge.kernel.org/pub/software/network/iw/">https://mirrors.edge.kernel.org/pub/software/network/iw/</a></p>
<p>修改Makefile，依赖libnl库。</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CC = arm-anykav200-linux-uclibcgnueabi-gcc</span><br><span class="line">CFLAGS += -I/home/luoyou/home/usr/anyka/libnl-3.4.0/<span class="keyword">include</span>/libnl3</span><br><span class="line">LIBS += -L/home/luoyou/home/usr/anyka/libnl-3.4.0/lib</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export PKG_CONFIG_PATH=/home/luoyou/home/usr/anyka/libnl-3.4.0/lib/pkgconfig</span><br><span class="line">make</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">iw help    # 帮助</span><br><span class="line">iw list    # 获得所有设备的功能，如带宽信息和802.11n的信息</span><br><span class="line">iw dev wlan0 scan   # 扫描</span><br><span class="line">iw event            # 监听事件 </span><br><span class="line">iw dev wlan0 link   # 获得链路状态 </span><br><span class="line"></span><br><span class="line">iw wlan0 connect &lt;essid&gt;       # 连接开放的AP</span><br><span class="line">iw wlan0 connect &lt;essid&gt; 2432  # 连接到2432频道的AP </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">连接WEP的AP，d:default, 0:第0个密码, 1:第0个密码</span></span><br><span class="line">iw wlan0 connect foo keys 0:abcde d:1:123456    </span><br><span class="line"></span><br><span class="line">iw dev wlan1 station dump    # 获取station 的统计信息</span><br><span class="line">iw dev wlan1 station get     # 获得station对应的peer统计信息</span><br><span class="line">iw wlan0 set bitrates legacy-2.4 12 18 24    # 修改传输比特率 </span><br><span class="line">iw dev wlan0 set bitrates mcs-5 4    # 修改tx HT MCS的比特率 </span><br><span class="line">iw dev wlan0 set bitrates mcs-2.4 10  </span><br><span class="line">iw dev wlan0 set bitrates mcs-5  # 清除所有tx比特率和设置的东西来恢复正常</span><br><span class="line">iw dev　set txpower  []   #设置传输功率</span><br><span class="line">iw phy　set txpower  []   #设置传输功率</span><br><span class="line">iw dev wlan0 set power_save on  #设置省电模式</span><br><span class="line">iw dev wlan0 get power_save     #查询当前的节电设定</span><br><span class="line">iw phy phy0 interface add moni0 type monitor  #添加一个monitor接口</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/07/hardware/phy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ubun2">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="nullptr">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/07/hardware/phy/" class="post-title-link" itemprop="url">PHY</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-07 16:05:44" itemprop="dateCreated datePublished" datetime="2022-06-07T16:05:44+08:00">2022-06-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-08 15:23:17" itemprop="dateModified" datetime="2022-06-08T15:23:17+08:00">2022-06-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/net/" itemprop="url" rel="index"><span itemprop="name">net</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>PHY（Physical Layer）即物理接口收发器，它实现OSI模型的物理层。包括MII/GMII（介质独立接口）子层、PCS（物理编码子层）、PMA（物理介质附加）子层、PMD（物理介质相关）子层、MDI子层。PHY是IEEE802.3中定义的一个标准模块，STA（station management entity，管理实体，一般为MAC或CPU）通过SMI（Serial Manage Interface）对PHY的行为、状态进行管理和控制，而具体管理和控制动作是通过读写PHY内部的寄存器实现的。<br>10BaseT 和 100BaseTX PHY两种实现的帧格式是一样的，但信令机制不同，而且10BaseT采用曼彻斯特编码，100BaseTX 采用4B/5B编码。</p>
<p><img src="/images/net/phy/PHY.png" alt="img"></p>
<p>PHY里面的部分寄存器是IEEE定义的，这样PHY把自己的目前的状态反映到寄存器里面，MAC通过SMI总线不断的读取PHY的状态寄存器以得知目前PHY的状态，例如连接速度，双工的能力等。当然也可以通过SMI设置PHY的寄存器达到控制的目的，例如流控的打开关闭，自协商模式还是强制模式等。不论是物理连接的MII总线和SMI总线还是PHY的状态寄存器和控制寄存器都是有IEEE的规范的，因此不同公司的MAC和PHY一样可以协调工作。当然为了配合不同公司的PHY的自己特有的一些功能，驱动需要做相应的修改。</p>
<ul>
<li><strong>工作过程</strong></li>
</ul>
<p>PHY在发送数据的时候，收到MAC过来的数据(对PHY来说，没有帧的概念，对它来说，都是数据而不管什么地址，数据还是CRC)，每4bit就增加1bit的检错码，然后把并行数据转化为串行流数据，再按照物理层的编码规则(10Based-T的NRZ编码或100based-T的曼彻斯特编码)把数据编码，再变为模拟信号把数据送出去。收数据时的流程反之。</p>
<h2 id="PHY寄存器"><a href="#PHY寄存器" class="headerlink" title="PHY寄存器"></a>PHY寄存器</h2><p>PHY寄存器的地址空间为5位，从0到31最多可以定义32个寄存器（随着芯片功能不断增加，很多PHY芯片采用分页技术来扩展地址空间以定义更多的寄存器），IEEE802.3定义了地址为0-15这16个寄存器的功能，地址16-31的寄存器留给芯片制造商自由定义，如下表所示。</p>
<p><img src="/images/net/phy/PHY_REG.png" alt="PHY_REG"></p>
<h3 id="Control-Register-Register-0"><a href="#Control-Register-Register-0" class="headerlink" title="Control Register (Register 0)"></a>Control Register (Register 0)</h3><p>寄存器0是PHY控制寄存器，通过Control Register可以对PHY的主要工作状态进行设置。应该保证控制寄存器每个位的默认值，以便在没有管理干预的情况下，上电或复位时PHY的初始状态为正常操作状态。Control Register的每一位完成的功能见下。</p>
<p><img src="/images/net/phy/PHY_CTRL_REG.png" alt="PHY_CTRL_REG"></p>
<ul>
<li><strong>Reset：</strong> 通过将位0.15设置为逻辑1来完成复位PHY。 该操作应将状态和控制寄存器设置为其默认状态。 因此，此操作可能会改变PHY的内部状态以及与PHY关联的物理链路的状态。复位过程中Bit15保持为1，复位完成之后该位应该自动清零。在复位过程完成之前，PHY不需要接受对控制寄存器的写入操作，并且在复位过程完成之前写入0.15以外的控制寄存器位可能不起作用。 复位过程应在0.15位设置的0.5 s内完成。</li>
</ul>
<blockquote>
<p>（1）一般要改变端口的工作模式（如速率、双工、流控或协商信息等）时，在设置完相应位置的寄存器之后，需要通过Reset位复位PHY来使配置生效。<br>（2）该比特位的默认值为 0。</p>
</blockquote>
<ul>
<li><strong>Loopback：</strong> 当位0.14被设置为逻辑1时，PHY应置于环回操作模式。 当位0.14置位时，PHY接收电路应与网络介质隔离，并且MII或GMII处的TX_EN断言不应导致网络介质上的数据传输。 当位0.14置位时，PHY应接受来自MII或GMII发送数据路径的数据，并将其返回给MII或GMII接收数据路径，以响应TX_EN的断言。 当位0.14置位时，从断言TX_EN到断言RX_DV的延迟应小于512 BT。 当位0.14置位时，除非设置了位0.7，否则COL信号应始终保持无效，在这种情况下，COL信号的行为应如22.2.4.1.9所述。 清0.14位为零允许正常操作。</li>
</ul>
<p>Loopback是一个调试以及故障诊断中常用的功能，Bit14置1之后，PHY和外部MDI的连接在逻辑上将被断开，从MAC经过MII/GMII（也可能是其他的MAC/PHY接口）发送过来的数据将不会被发送到MDI上，而是在PHY内部（一般在PCS）回环到本端口的MII/GMII接收通道上，通过Loopback功能可以检查MII/GMII以及PHY接口部分是否工作正常，对于端口不通的情况可用于故障定位。</p>
<blockquote>
<p>（1）需要注意的是，很多时候PHY设置Loopback后端口可能就Link down了，MAC无法向该端口发帧，这时就需要通过设置端口Force Link up才能使用Loopback功能。<br>（2）该比特位的默认值为 0。</p>
</blockquote>
<ul>
<li><p><strong>Speed Selection：</strong> <em><strong>Bit13和Bit6两位联合实现</strong></em>对端口的速率控制功能。链接速度可以通过自动协商过程或手动速度选择来选择。 通过将位0.12清零来禁用自动协商时，允许手动速度选择。</p>
</li>
<li><p>当禁用自动协商并将位0.6清除为逻辑0时，将位0.13设置为逻辑1将PHY配置为100 Mb / s操作，并将位0.13清除为逻辑0将PHY配置为10 Mb / s操作 。</p>
</li>
<li><p>当禁用自动协商并将位0.6设置为逻辑1时，将位0.13清零为逻辑0会选择1000 Mb / s的操作。 将位0.6和0.13设置为逻辑1的组合保留用于未来的标准化。</p>
</li>
<li><p>当使能自动协商时，可以读取或写入位0.6和0.13，但位0.6和位0.13的状态对链路配置没有影响，位0.6和位0.13不需要反映当它被读取时链接。</p>
</li>
</ul>
<p>如果PHY通过比特1.15：9和比特15.15：12报告它不能工作在所有速度时，则比特0.6和0.13的值应该与PHY可以操作的速度相对应。并且任何试图将该位设置为无效的操作均将被忽略。</p>
<blockquote>
<p>（1）对Speed Selection的修改设置，往往需要复位端口才能配置生效。因此在设置该位置的时候需要检查自动协商的设置并通过Bit15复位端口。<br>（2）位0.6和0.13的默认值是根据位1.15：9和15.15：12所指示的PHY可以操作的最高数据速率的编码组合。</p>
</blockquote>
<ul>
<li><strong>Auto-Negotiation Enable：</strong> 自动协商过程应通过将位0.12设置为逻辑1来启用。 如果位0.12设置为逻辑1，则位0.13、0.8和0.6不应对链路配置和除了自动协商协议规定之外的站操作产生影响。 如果将位0.12清零为逻辑0，则无论链路配置和自动协商过程的先前状态如何，位0.13、0.8和0.6都将确定链路配置。</li>
</ul>
<p>如果PHY通过位1.3报告它缺乏执行自动协商的能力，则PHY应在位0.12返回零值。 如果PHY通过位1.3报告它缺乏执行自动协商的能力，则位0.12应该始终写为0，并且任何尝试将1写入位0.12都应该被忽略。</p>
<blockquote>
<p>必须注意的是，对于1000BASE-T接口,自动协商必须打开。</p>
</blockquote>
<ul>
<li><strong>Power Down：</strong> 通过将位0.11设置为逻辑1，可以将PHY置于低功耗状态。 清0.11位为零允许正常操作。 PHY在掉电状态下的具体行为是特定实现的。 处于掉电状态时，PHY应响应管理事务。 在转换到掉电状态期间和处于掉电状态期间，PHY不应在MII或GMII上产生寄生信号。</li>
</ul>
<p>当位0.11或位0.10被设置为逻辑1时，PHY不需要满足RX_CLK和TX_CLK信号功能要求。 在位0.11和0.10清零后，PHY应在0.5 s内满足22.2.2中定义的RX_CLK和TX_CLK信号功能要求。</p>
<blockquote>
<p>（1）Power Down模式一般在软件shut down端口的时候使用，需要注意的是端口从Power Down模式恢复，需要复位端口以保证端口可靠的连接。<br>（2）该位的默认值为 0。</p>
</blockquote>
<ul>
<li><strong>Isolate：</strong> 通过将位0.10设置为逻辑1，PHY可能被迫将其数据路径与MII或GMII电隔离。 清零位0.10允许正常操作。 当PHY与MII或GMII隔离时，它不会响应TXD数据包和TX_EN，TX_ER、GTX_CLK的输入。并且它的TX_CLK，RX_CLK，RX_DV，RX_ER，RXD数据包、COL和CRS输出均应为高阻态。 当PHY与MII或GMII隔离时，它将响应管理事务（MDC/MDIO接口的信号）。</li>
</ul>
<blockquote>
<p>（1）IEEE802.3没有对Isolate 时MDI接口的状态进行规范，此时MDI端可能还在正常运行。Isolate在实际应用中并没有用到。<br>（2）由于目前很多百兆的PHY芯片其MAC接口主流的都是SMII/S3MII，8个端口的接口是相互关联的，一个端口设置Isolate可能会影响其他端口的正常使用，因此在使用中注意不要随意更改bit10的状态。</p>
</blockquote>
<ul>
<li><strong>Restart Auto-Negotiation：</strong> 如果PHY通过位1.3报告它缺乏执行自动协商的能力，或者如果自动协商被禁用，则PHY应在位0.9返回零值。 如果PHY通过位1.3报告它缺乏执行自动协商的能力，或者如果禁用了自动协商，则应将位0.9始终写为0，并且任何尝试将1写入位0.9应被忽略。</li>
</ul>
<p>Bit9置1将重新启动端口的自动协商进程，当然前提是Auto-Negotiation Enable是使能的。</p>
<blockquote>
<p>一般在修改端口的自动协商能力信息之后通过Bit9置1重新启动自动协商来使端口按照新的配置建立link。</p>
</blockquote>
<ul>
<li><strong>Duplex Mode：</strong> 可以通过自动协商过程或手动双面选择来选择双工模式。 通过将位0.12清零来禁用自动协商时，允许手动双面选择。</li>
</ul>
<ul>
<li>当禁用自动协商时，将位0.8设置为逻辑1将PHY配置为全双工操作，并将位0.8清零以将逻辑0配置为用于半双工操作的PHY。</li>
<li>当启用自动协商时，可以读取或写入位0.8，但位0.8的状态对链路配置没有影响。</li>
</ul>
<p>如果PHY通过位1.15：9和15.15：12报告它只能在一个双工模式下工作，则位0.8的值应该与PHY可以工作的模式相对应，并且任何尝试改变将该位0.8修改为无效指的操作应被忽略。</p>
<blockquote>
<p>对Duplex Mode的修改配置也需要复位端口才能生效。</p>
</blockquote>
<ul>
<li><strong>Collision Test：</strong> 冲突信号（COL）测试开关。在需要对COL信号进行测试时，可以通过Bit7置1，这时PHY将输出一个COL脉冲以供测试。实际测试操作中也可以将端口配置为半双工状态，通过发帧冲突来测试COL信号，因此该配置实用价值不大。</li>
<li><strong>Unidirectional enable：</strong> 如果PHY通过比特1.7报告它不具备编码和传输来自媒体独立接口的数据的能力，而不管PHY是否确定已建立有效链路，则PHY应在比特0.5中返回零值，并且 任何尝试写一个到位0.5应该被忽略。</li>
</ul>
<h3 id="Status-register"><a href="#Status-register" class="headerlink" title="Status register"></a>Status register</h3><p>寄存器1是PHY状态寄存器，主要包含PHY的状态信息，大多数bit的值都是由芯片厂家确定的，每一个bit的功能在表3种已有详细说明。</p>
<p><img src="/images/net/phy/PHY_STA_REG.png" alt="PHY_STA_REG"></p>
<ul>
<li><strong>100BASE-T4 ability：</strong> 当读为逻辑1时，位1.15指示PHY有能力使用100BASE-T4信令规范执行链路发送和接收。 当读为逻辑0时，位1.15表示PHY缺乏使用100BASE-T4信令规范执行链路发送和接收的能力。</li>
<li><strong>100BASE-X full duplex ability：</strong> 当读为逻辑1时，位1.14指示PHY有能力使用100BASE-X信令规范执行全双工链路传输和接收。 当作为逻辑0读取时，bit1.14表示PHY缺乏使用100BASE-X信令规范执行全双工链路传输和接收的能力。</li>
<li><strong>100BASE-X half duplex ability：</strong> 当读为逻辑1时，位1.13指示PHY有能力使用100BASE-X信令规范执行半双工链路传输和接收。 当读为逻辑0时，位1.13指示PHY缺乏使用100BASE-X信令规范执行半双工链路传输和接收的能力。</li>
<li><strong>Unidirectional ability：</strong> 当读为逻辑1时，位1.7指示PHY具有编码和传输来自媒体独立接口的数据的能力，而不管PHY是否确定已建立有效链路。 当读为逻辑0时，位1.7指示PHY只有在PHY确定已建立有效链路时才能从媒体独立接口传输数据。</li>
<li><strong>MF preamble suppression ability：</strong> 当读为逻辑1时，位1.6指示PHY能够接受管理帧，而不管它们是否在22.2.4.5.2中描述的前导码模式之前。 当读为逻辑0时，位1.6指示PHY不能接受管理帧，除非它们之前是22.2.4.5.2中描述的前导码模式。</li>
<li><strong>Auto-Negotiation Complete：</strong> 当读为逻辑1时，位1.5指示自动协商过程已完成，并且由自动协商协议（条款28或条款37）实施的扩展寄存器的内容是有效的。 当读为逻辑0时，位1.5指示自动协商过程尚未完成，并且扩展寄存器的内容由自动协商协议的当前状态定义，或者为手动配置写入。 如果自动协商通过清除位0.12禁用，则PHY应在位1.5返回零值。 如果PHY缺乏执行自动协商的能力，它还应在位1.5返回零值。</li>
</ul>
<blockquote>
<p>在调试以及异常故障处理时，可以通过该位寄存器的状态判断AN是否成功，从而进一步的检查AN相关的设置是否正确，或者芯片的AN功能是否正常等。</p>
</blockquote>
<ul>
<li><strong>Remote Fault：</strong> 当读为逻辑1时，位1.4表示检测到远程故障状态。 故障类型以及故障检测的标准和方法是PHY特定的。 远程故障位必须使用锁存功能来实现，以便发生远程故障将导致远程故障位置位，并保持置位状态直至被清除。 每当通过管理接口读取寄存器1时，远程故障位应清零，并且还应通过PHY复位清零。</li>
</ul>
<p>远端错误指示位。Bit4=1代表连接对端（Link Partner）出错，至于出错的具体类型以及错误检测机制在规范中并没有定义，由PHY的制造商自由发挥，一般的厂商都会在其他的寄存器（Register16-31由厂商自行定义）指示比较详细的错误类型。在与端口相关的故障查证中，Remote Fault是一个重要的指示信息，通过互联双方的Remote Fault信息（可能要加上其他的具体错误指示），可以帮助定位故障原因。</p>
<ul>
<li><p><strong>Auto-Negotiation ability：</strong> 当读为逻辑1时，位1.3指示PHY有能力执行自动协商。 当读为逻辑0时，位1.3指示PHY缺乏执行自动协商的能力。</p>
</li>
<li><p><strong>Link Status：</strong> 当读为逻辑1时，位1.2指示PHY已经确定已建立有效链路。 当作为逻辑0读取时，位1.2指示该链接无效。 确定链路有效性的标准是PHY特定的。 链路状态位应该使用锁存功能来实现，以便发生链路故障情况将导致链路状态位清零并保持清零，直到通过管理接口读取。 此状态指示旨在支持在30.5.1.1.4，aMediaAvailable中定义的管理属性。</p>
</li>
</ul>
<p>实际应用中一般都是通过Bit2来判断端口的状态。而且，一般的MAC芯片也是通过轮询PHY的这个寄存器值来判断端口的Link状态的（这个过程可能有不同的名称，比如BCM叫做Link Scan，而Marvell叫做PHY Polling。）如前所述，在AN Enable的情况下，Link Status的信息只有在Auto-Negotiation Complete指示已经完成的情况下才是正确可靠的，否则有可能出错。</p>
<ul>
<li><strong>Jabber Detect：</strong> 当作为逻辑1读取时，位1.1指示已经检测到爆音条件。 此状态指示旨在支持30.5.1.1.6中定义的管理属性，aJabber和30.5.1.3.1 nJabber中定义的MAU通知。 检测Jabber条件的标准是PHY特定的。 Jabber检测位应该使用锁存功能来实现，以便发生Jabber条件将导致Jabber检测位置位，并保持置位状态直至被清除。 每次通过管理接口读取寄存器1时，Jabber检测位应清零，并且还应通过PHY复位清零。</li>
</ul>
<p>IEEE802.3对Jabber的解释是“A condition wherein a station transmits for a period of time longer than the maximum permissible packet length, usually due to a fault condition”。这一位指示的是Link Partner发送的时间超过了规定的最大长度。值得注意的是，Jabber Detect只有在10BASE-T模式下才有意义，100和1000M模式是没有定义Jabber这一功能的。</p>
<h3 id="PHY-Identifier-Register"><a href="#PHY-Identifier-Register" class="headerlink" title="PHY Identifier Register"></a>PHY Identifier Register</h3><p>寄存器2和3存放PHY芯片的型号代码，寄存器2(PHY ID1)为高16位，而寄存器3(PHY ID2)为低16位。由芯片制造商自行定义，实际应用中软件通过读取这两个寄存器的内容可以识别PHY的型号和版本。</p>
<p>PHY标识符应由由IEEE分配给PHY制造商的组织唯一标识符（OUI）的（<em>只需要使用第3至第24位，共22位</em>），加上6位制造商的型号以及4位制造商的修订版编号组成。 PHY标识符旨在提供足够的信息来支持30.1.2中所要求的oResourceTypeID对象。</p>
<p>OUI的第三位分配给位2.15，OUI的第四位分配给位2.14，依此类推。 位2.0包含OUI的第十八位。 位3.15包含OUI的第十九位，位3.10包含OUI的第二十四位。 位3.9包含制造商型号的MSB。 位3.4包含制造商型号的LSB。 位3.3包含制造商版本号的MSB，位3.0包含制造商版本号的LSB。具体如下图所示：</p>
<p><img src="/images/net/phy/PHY_ID_REG.png" alt="PHY_ID_REG"></p>
<h3 id="Auto-Negotiation-Advertisement-Register-Register-4-R-W"><a href="#Auto-Negotiation-Advertisement-Register-Register-4-R-W" class="headerlink" title="Auto-Negotiation Advertisement Register (Register 4) (R/W)"></a>Auto-Negotiation Advertisement Register (Register 4) (R/W)</h3><p>寄存器4是自动协商的能力通告寄存器，在AN Enable的前提下（见寄存器0），端口根据该寄存器的相关配置将自动协商信息通过FLP在MDI上进行通告。当AN配置为Disable状态的时候，寄存器4的配置将不起作用，端口的工作模式由控制寄存器中的配置决定。</p>
<p>该寄存器包含PHY的通告能力，它们将在自动协商期间传送给其链接伙伴。 基本页的位定义在IEEE标准的28.2.1.2中定义。 上电时，在自动协商开始之前，该寄存器应具有以下默认配置：</p>
<ul>
<li><strong>Selector Field （4.4：0）：</strong> 被设置为适当的代码，如IEEE标准的附件28A中所规定。</li>
<li><strong>Reserved（4.14）：</strong> 被设置为逻辑0。</li>
<li><strong>Technology Ability Field（4.11：5）：</strong> <em><strong>根据MII状态寄存器（寄存器1）（1.15：11）中设置的值或等效值设置</strong></em>。 另见28.2.1.2.3和附件28D。</li>
</ul>
<p><img src="/images/net/phy/PHY_REG_4.png" alt="PHY_REG_4"></p>
<h3 id="Link-codeword-encoding（基本链路码字）"><a href="#Link-codeword-encoding（基本链路码字）" class="headerlink" title="Link codeword encoding（基本链路码字）"></a>Link codeword encoding（基本链路码字）</h3><p>在FLP Burst内传输的基本链路代码字（基本页面）应该传达如图28-7所示的编码。 自动协商功能可以使用下一页功能支持其他页面。 下一页交换中使用的链接代码字的编码在28.2.3.4中定义。 在FLP Burst中，D0应该是第一个传输的位。</p>
<p><img src="/images/net/phy/20180428154543415.png" alt="这里写图片描述"></p>
<h3 id="Next-Page-function"><a href="#Next-Page-function" class="headerlink" title="Next Page function"></a>Next Page function</h3><p>下一页功能使用标准的自动协商仲裁机制来允许交换任意的数据。 数据由可选的下一页信息携带，其遵循用于基本链接码字的传输和确认过程。 定义了四种类型的下一页编码：消息页面，未格式化页面，扩展消息页面和扩展的未格式化页面。</p>
<p>关于该部分，具体见IEEE标准的<strong>28.2.3.4 Next Page function</strong>。</p>
<p>在IEEE标准中，Auto-Negotiation Advertisement Register中的各部分全部是在独立章节中进行介绍的。具体如下：</p>
<ul>
<li><strong>Selector Field：</strong> 选择器字段（S [4：0]）是一个5位宽的字段，编码32个可能的消息。 链路码字中的选择器字段S [4：0]应用于识别自动协商发送的消息的类型。 下表列出了可能发送的消息的类型。 随着新消息的发展，该表格将相应更新。</li>
</ul>
<p><img src="/images/net/phy/20180428155653138.png" alt="Selector Field"></p>
<p>未指定的组合保留供将来使用。 不会传输选择器字段的预留组合。<em><strong>我们所接触的以太网PHY遵从IEEE802.3规范，Selector Field=0001，该区域不可随意更改（很多PHY将此区域设计为只读寄存器，以免被修改）</strong></em>。</p>
<ul>
<li><strong>Technology Ability Field：</strong> 技术能力字段（A [6：0]）是一个7位宽的字段，其中包含指示选择器字段值特定的支持技术的信息。 这些位被映射到各个技术，以便能够针对单个选择器字段值并行通告能力。 附录28B.2和附件28D描述了IEEE 802.3选择器的技术能力字段编码。 链接代码字中可能会公布多种技术。 设备应支持其宣传的技术的数据服务能力。</li>
</ul>
<p><img src="/images/net/phy/20180428152215994.png" alt="Technology Ability Field"></p>
<ul>
<li><p><strong>Extended Next Page：</strong> 扩展下一页（XNP）被编码在基本链路码字的位D12中。 扩展下一页位指示本地设备在设置为逻辑1时支持扩展下一页的传输，并指示本地设备在设置为逻辑0时不支持扩展下一页。 Extended Next Page的使用与协商的数据速率，媒体或链接技术是正交的。 扩展下一页位按照28.2.3.4中的扩展下一页功能规范使用。</p>
</li>
<li><p><strong>Next Page：</strong> 无论选择器字段值还是链接码字编码，下一页（NP）都在D15位编码。 支持附加链接码字编码的传输和接收是可选的。 如果不支持Next Page功能，NP位应始终设置为逻辑0。 如果设备实现下一页功能并希望进行下一页交换，则应将NP位设置为逻辑1。 设备可以实现下一页功能，并通过将NP位设置为逻辑0来选择不参与下一页交换。 下一页功能在28.2.3.4中定义。</p>
</li>
<li><p><strong>Remote Fault：</strong> 远程故障（RF）编码在基本链路码字的位D13中。 默认值是逻辑零。 远程故障位为传输简单的故障信息提供了一种标准的传输机制。 当自动协商通告寄存器（寄存器4）中的RF位设置为逻辑1时，发送的基本链路码字中的RF位被设置为逻辑1。 当接收到的基本链路代码字中的RF位被设置为逻辑1时，如果存在MII管理功能，则MII状态寄存器（寄存器1）中的远程故障位将被设置为逻辑1。</p>
</li>
</ul>
<h3 id="Auto-Negotiation-Link-Partner-ability-register-Register-5-RO"><a href="#Auto-Negotiation-Link-Partner-ability-register-Register-5-RO" class="headerlink" title="Auto-Negotiation Link Partner ability register (Register 5) (RO)"></a>Auto-Negotiation Link Partner ability register (Register 5) (RO)</h3><p>寄存器5保存的是本端PHY接收到的对端PHY所通告的端口能力，寄存器5的结构和寄存器4基本一致。</p>
<h3 id="Auto-Negotiation-Expansion-Register-Register-6-RO"><a href="#Auto-Negotiation-Expansion-Register-Register-6-RO" class="headerlink" title="Auto-Negotiation Expansion Register (Register 6) (RO)"></a>Auto-Negotiation Expansion Register (Register 6) (RO)</h3><p>寄存器6保存了PHY自动协商过程的异常信息。从这个寄存其中我们可以获取到Link Partner子否支持自动协商以及自动协商下一页有没有收到的信息。</p>
<p><img src="/images/net/phy/20180428163901700.png" alt="Auto-Negotiation Expansion Register"></p>
<h3 id="Auto-Negotiation-Next-Page-transmit-register-Register-7-R-W"><a href="#Auto-Negotiation-Next-Page-transmit-register-Register-7-R-W" class="headerlink" title="Auto-Negotiation Next Page transmit register (Register 7) (R/W)"></a>Auto-Negotiation Next Page transmit register (Register 7) (R/W)</h3><p>自动协商下一页发送寄存器包含在支持下一页功能时要发送的下一页链接码字。 （见表28-6）内容在28.2.3.4中定义。 上电时，该寄存器应包含默认值2001H，该值表示消息代码设置为Null消息的消息页面。 该值可以由设备希望传输的任何有效的下一页消息代码替换。 写入该寄存器应将mr_next_page_loaded设置为true。</p>
<p><img src="/images/net/phy/2018042816462224.png" alt="Register 7"></p>
<h3 id="Auto-Negotiation-Link-Partner-Received-Next-Page-register-Register-8-RO"><a href="#Auto-Negotiation-Link-Partner-Received-Next-Page-register-Register-8-RO" class="headerlink" title="Auto-Negotiation Link Partner Received Next Page register (Register 8) (RO)"></a>Auto-Negotiation Link Partner Received Next Page register (Register 8) (RO)</h3><p><img src="/images/net/phy/20180428164942266.png" alt="Register 8"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/07/net/tcp_udp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ubun2">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="nullptr">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/07/net/tcp_udp/" class="post-title-link" itemprop="url">TCP and UDP</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-07 16:05:44" itemprop="dateCreated datePublished" datetime="2022-06-07T16:05:44+08:00">2022-06-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-08 15:23:17" itemprop="dateModified" datetime="2022-06-08T15:23:17+08:00">2022-06-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/net/" itemprop="url" rel="index"><span itemprop="name">net</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><p>TCP(Transmission Control Protocol)传输层控制协议是面向连接的、可靠的、基于字节流的传输层通信协议。</p>
<ul>
<li>面向连接：只能是一对一连接，不能向多个主机发送消息，故不能广播和多播。</li>
<li>可靠的：无论网络链路怎样变化，都能保证报文到达接收端。</li>
<li>字节流：无论消息多大都可以传输，并且消息是有序的。</li>
</ul>
<p>建立一个TCP连接需要客户端与服务器端达成三个共识:</p>
<ul>
<li>Socket：由 IP 地址和端口号组成</li>
<li>序列号：保证数据包不重复、不丢弃和按序传输，用来解决乱序问题等</li>
<li>窗口大小：用来做流量控制</li>
</ul>
<p>TCP通过源地址、目的地址、源端口和目的端口可以确定一个唯一的连接。</p>
<p>服务器上TCP的最大连接数理论上等于客户端IP数 × 客户端端口数，但实际上会受到内存和socket文件描述符（ulimit配置）的限制。</p>
<p>TCP负载数据⻓度 = IP 总⻓度 - IP 首部⻓度 - TCP 首部⻓度。</p>
<p>TCP具有流量控制、超时重传、拥塞控制、数据校验、数据分片排序等特性来保证数据可靠传输。</p>
<ul>
<li>TCP 使用校验和，确认和重传机制来保证可靠传输</li>
<li>TCP 给数据分片进行排序，并使用累积确认保证数据的顺序不变和非重复</li>
<li>TCP 使用滑动窗口机制来实现流量控制，通过动态改变窗口的大小进行拥塞控制</li>
</ul>
<p>应用程序通过打开一个socket 来使用TCP服务，TCP管理socket 的数据传递。连接操作的第一步是在 TCP 模块处创建表示连接控制信息的头部。当 TCP 头部创建好之后， TCP 模块会将信息传递给 IP 模块并委托它发送 给服务器 。服务器根据TCP 头部中的发送方和接收方端口号可以找到要连接的套接字。</p>
<p><img src="/images/net/tcpip/tcp_head.png" alt="tcp_head"></p>
<h3 id="TCP分片"><a href="#TCP分片" class="headerlink" title="TCP分片"></a>TCP分片</h3><p>因为 IP 层本身没有超时重传机制，它由传输层的 TCP 来负责超时和重传，如果一个 IP 分片丢失，整个 IP 报文的所有分片都得重传，缺乏效率。</p>
<ul>
<li>MTU :一个网络包的最大⻓度，在以太网中一般是 1500 字节。</li>
<li>MSS :除去 IP 和 TCP 头部之后，一个网络包所能容纳的 TCP 数据的最大⻓度。</li>
</ul>
<p><img src="/images/net/tcpip/mss.png" alt="img"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看MTU值</span></span><br><span class="line">cat /sys/class/net/eth0/mtu</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改MTU值</span></span><br><span class="line">echo &quot;1400&quot; &gt; /sys/class/net/eth0/mtu</span><br></pre></td></tr></table></figure>

<h3 id="三次握手"><a href="#三次握手" class="headerlink" title="三次握手"></a>三次握手</h3><p>三次握手的目的是连接服务器指定端口，建立 TCP 连接，并同步连接双方的序列号和确认号，交换 TCP 窗口大小信息。连接之前服务端处于 LISTEN 状态主动监听某个端口，客户端执行connect()时，将触发三次握手。</p>
<p><img src="/images/net/tcpip/tcp-link3.jpg" alt="tcp-link3"></p>
<ol>
<li><p>客户端发送连接请求报文给服务器，将SYN位置1，表示 SYN 报文。同时客户端将初始化的序号，放在包头的序列号字段里。</p>
</li>
<li><p>服务器收到客户端的 SYN 报文之后，把 SYN和ACK 标志位置1，随机初始化自己的序号，并填入序列号字段中，把客户端的 ISN + 1 作为 ACK 的值，表示同意建立连接。</p>
</li>
<li><p>客户端收到服务端 SYN 报文之后，还要回应一个应答报文，表示已经收到了服务端发的同意报文。先将 ACK 标志位置1，自身序列号+1，把服务器的 ISN + 1 作为 ACK 的值。</p>
</li>
<li><p>服务端收到客户端的 ACK，连接已建立，可以数据传输。</p>
</li>
</ol>
<p>在三次连接中，只有第三次握手是可以携带数据的，前两次握手是不可以携带数据的。可以通过<code>netstat -napt</code>命令查看TCP 的连接状态。</p>
<p>之所以需要三次握中，是因为至少需要三次才能初始化确定Socket、序列号和窗口大小等 TCP 连接信息，进而建立可靠的连接。超过3次会有延迟的历史已失效的连接。</p>
<h3 id="四次挥手"><a href="#四次挥手" class="headerlink" title="四次挥手"></a>四次挥手</h3><p>TCP 的连接的断开需要发送四个包，因此称为四次挥手。客户端或服务器均可主动发起挥手动作，在 socket 编程中，任何一方执行 close() 操作即可产生挥手操作。</p>
<p><img src="/images/net/tcpip/tcp-unlink4.jpg" alt="tcp-unlink4"></p>
<ol>
<li>客户端发送 FIN 报文给服务器，将FIN位置1，随机设置序列号，请求释放从客户端到服务器的连接。</li>
<li>服务器接收到客户端发的 FIN，并回复 ACK 给客户端，将客户端的序列号值 +1 作为 ACK 的值，表明同意释放从客户端到服务器的连接。</li>
<li>客户端收到服务端回复的 ACK，，此时从客户端到服务器的连接已释放，但服务端到客户端的连接还未释放，并且客户端还可以接收数据。</li>
<li>服务端继续发送之前没发完的数据给客户端；</li>
<li>服务端发送 FIN+ACK 给客户端，指定一个序列号，请求释放从服务端到客户端的连接。发送完毕后，等待客户端的确认。就算没收到客户端的回复，过了时间也会自动释放。</li>
<li>客户端收到服务端的 FIN+ACK，并回复 ACK 给服务端，将服务端的序列号值+1 作为 ACK 的值，表明同意释放从服务端到客户端的连接，并等待可能出现的要求重传的 ACK 包。</li>
<li>客户端等待了2MSL后，没有收到服务器端的 ACK ，认为服务器端已经正常关闭连接，于是自己会关闭连接。</li>
<li>服务端收到客户端的 ACK 后，释放从服务端到客户端的连接，至此连接完全关闭。</li>
</ol>
<p>关闭连接时，客户端向服务端发送 FIN 时，仅仅表示客户端不再发送数据了但是还能接收数据。服务器收到客户端的 FIN 报文时，先回一个 ACK 应答报文，而服务端可能还有数据需要处理和发送，等服务端不再发送数据时，才发送 FIN 报文给客户端来表示同意现在关闭连接。</p>
<p>释放连接时，因服务器可能还有数据需要传输给客户端，所以 ACK 和 FIN 要分开发送，先响应客户端 FIN 请求，然后数据传输，传输完成后，服务端再提出 FIN 请求。而连接时因为没有数据要传输，所以 ACK 和 SYN 可以一起发送。</p>
<p>MSL(Maximum Segment Lifetime)报文最大生存时间，它是任何报文在网络上存在的最⻓时间，超过这个时间报文将被丢弃，保证下次连接不会出现旧的连接报文，同时确保这个时间内客户端发送的最后一个 ACK 报文能够到达服务端。2MSL时间是从客户端接收到 FIN 后发送 ACK 开始计时的，如果在 TIME_WAIT 时间内，因为客户端的 ACK没有传输到服务端，客户端又接收到了服务端重发的 FIN 报文，那么 2MSL时间将重新计时。TIME_WAIT 是2 倍的 MSL，要修改 TIME_WAIT 的时间⻓度，只能修改 Linux 内核代码里 TCP_TIMEWAIT_LEN 的值，并重新编译内核。</p>
<h3 id="内核的TCP参数"><a href="#内核的TCP参数" class="headerlink" title="内核的TCP参数"></a>内核的TCP参数</h3><h2 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h2><p>UDP利用 IP 提供面向无连接的通信服务，支持一对一、一对多、多对多的交互通信。不提供复杂的控制机制，只负责发送数据包，不保证数据包是否能抵达对方，实时性和传输效率相对更好。当然UDP要实现可靠传输，就要在应用层上实现TCP 的特性。</p>
<p><img src="/images/net/tcpip/udp_head.png" alt="udp head"></p>
<ul>
<li><p>UDP 缺乏可靠性。UDP 本身不提供确认，序列号，超时重传等机制。UDP 数据报可能在网络中被复制，被重新排序。即 UDP 不保证数据报会到达其最终目的地，也不保证各个数据报的先后顺序，也不保证每个数据报只到达一次</p>
</li>
<li><p>UDP 数据报是有长度的。每个 UDP 数据报都有长度，如果一个数据报正确地到达目的地，那么该数据报的长度将随数据一起传递给接收方。而 TCP 是一个字节流协议，没有任何（协议上的）记录边界。</p>
</li>
<li><p>UDP 是无连接的。UDP 客户和服务器之前不必存在长期的关系。UDP 发送数据报之前也不需要经过握手创建连接的过程。</p>
</li>
<li><p>UDP 支持多播和广播。</p>
</li>
</ul>
<h2 id="TCP和UDP区别"><a href="#TCP和UDP区别" class="headerlink" title="TCP和UDP区别"></a>TCP和UDP区别</h2><ol>
<li>TCP 是面向连接的，传输数据前先要建立连接，UDP 是不需要连接，直接传输数据。</li>
<li>TCP 只能一对一通信，UDP 支持一对一、一对多、多对多的交互通信。</li>
<li>TCP是面向字节流的，UDP是基于数据报。</li>
<li>TCP 保证可靠，UDP 不保证可靠交付数据。</li>
<li>TCP 有拥塞控制和流量控制机制，UDP 则没有。</li>
<li>TCP 头部长度较长，而且有可变长字段，UDP 固定8字节，开销较小。</li>
<li>TCP 是流式传输，没有边界，但保证顺序和可靠。UDP 是一个包一个包的发送，有边界，可能会丢包和乱序。</li>
<li>TCP 的数据大小如果大于 MSS 大小，则会在传输层进行分片，目标主机收到后，也同样在传输层组装 TCP数据包，如果中途丢失了一个分片，只需要传输丢失的这个分片。UDP 的数据大小如果大于 MTU 大小，则会在 IP 层进行分片，目标主机收到后，在 IP 层组装完数据，接着再传给传输层，但是如果中途丢了一个分片，在实现可靠传输的 UDP 时则就需要重传所有的数据包，这样传输效率非常差，所以通常 UDP 的报文应该小于 MTU。</li>
<li>TCP用于FTP 文件传输、HTTP / HTTPS。UDP用于视频、音频等多媒体通信、广播通信场景。</li>
<li>TCP 有可变长字段，所以要有头部长度字段。而 UDP 头部长度是固定的，无需多一个字段去记录 UDP头部长度。</li>
<li>TCP头部没有包长度字段，UDP头部有包长度字段。</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/13/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/15/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">ubun2</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">176</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ubun2</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v5.4.2
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.7.2
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
